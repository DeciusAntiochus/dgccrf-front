{"ast":null,"code":"var _jsxFileName = \"/Users/antoine/Documents/DGCCRF/dgccrf-front/src/containers/dossier/index.js\";\nimport React from 'react';\nimport SwipeableViews from 'react-swipeable-views';\nimport InfosComponent from './infos.container';\nimport VisitesComponent from './visites.container';\nimport { PropTypes } from 'prop-types';\nimport { changeNameOfPage, changeBackUrl, changeActivePage } from '../navbar/actions';\nimport { connect } from 'react-redux';\nimport { Grid, Container } from 'semantic-ui-react';\nimport { Tabs, Tab } from '@material-ui/core';\nimport './swipeable.css';\nimport dossierService from '../../services/dossier.service';\nimport DocumentsComponent from './documents.container';\nimport MyActivityIndicator from '../../components/myActivityIndicator.component';\n\nfunction mapStateToProps() {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    changeNameOfPage: newName => dispatch(changeNameOfPage(newName)),\n    changeBackUrl: () => dispatch(changeBackUrl('/mes-dossiers')),\n    changeActivePage: value => dispatch(changeActivePage('mesDossiers', value))\n  };\n}\n\nclass MonDossier extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleChange = (event, value) => {\n      this.setState({\n        activeIndex: value\n      });\n    };\n\n    this.handleChangeIndex = value => {\n      this.setState({\n        activeIndex: value\n      });\n    };\n\n    this.state = {\n      activeIndex: 0,\n      dossier: null\n    };\n  }\n\n  loadDossier(dossier) {\n    this.setState({\n      dossier: dossier\n    }, () => {\n      this.props.changeNameOfPage(this.state.dossier.DOSSIER_LIBELLE);\n    });\n  }\n\n  componentDidMount() {\n    this.props.changeNameOfPage('Dossier ' + this.props.match.params.id);\n    this.props.changeBackUrl();\n    this.props.changeActivePage('/dossier/' + this.props.match.params.id);\n    dossierService.getDossierById(this.props.match.params.id).then(res => this.loadDossier(res));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n        justifyContent: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.dossier ? React.createElement(Container, {\n      style: {\n        overflow: 'hidden',\n        height: '100%',\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      centered: true,\n      style: {\n        height: '100%',\n        flex: 1,\n        flexDirection: 'column',\n        flexWrap: 'nowrap',\n        overflow: 'hidden'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Grid.Row, {\n      style: {\n        flex: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      value: this.state.activeIndex,\n      fullWidth: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      label: \"Infos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), //pas de visites si le dossier n'est pas de type enquête!\n    this.state.dossier.TYPE_DOSSIER_IDENT === 3 && React.createElement(Tab, {\n      label: \"Visites\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Tab, {\n      label: \"Documents\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }))), React.createElement(Container, {\n      style: {\n        flex: 10,\n        overflow: 'hidden'\n      },\n      className: \"hidescrollbar responsivecontainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.dossier.TYPE_DOSSIER_IDENT === 3 ? React.createElement(SwipeableViews, {\n      style: {\n        height: '100%'\n      },\n      slideStyle: {\n        height: '100%',\n        overflow: 'auto'\n      },\n      slideClassName: \"hidescrollbar\",\n      index: this.state.activeIndex,\n      onChangeIndex: this.handleChangeIndex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(InfosComponent, {\n      dossier: this.state.dossier,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(VisitesComponent, Object.assign({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(DocumentsComponent, Object.assign({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }))) : React.createElement(SwipeableViews, {\n      style: {\n        height: '100%'\n      },\n      slideStyle: {\n        height: '100%',\n        overflow: 'auto'\n      },\n      slideClassName: \"hidescrollbar\",\n      index: this.state.activeIndex,\n      onChangeIndex: this.handleChangeIndex,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(InfosComponent, {\n      dossier: this.state.dossier,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(DocumentsComponent, Object.assign({}, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })))))) : React.createElement(MyActivityIndicator, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }));\n  }\n\n}\n\nMonDossier.propTypes = {\n  changeNameOfPage: PropTypes.func.isRequired,\n  changeBackUrl: PropTypes.func.isRequired,\n  changeActivePage: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.number\n    })\n  })\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(MonDossier);","map":{"version":3,"sources":["/Users/antoine/Documents/DGCCRF/dgccrf-front/src/containers/dossier/index.js"],"names":["React","SwipeableViews","InfosComponent","VisitesComponent","PropTypes","changeNameOfPage","changeBackUrl","changeActivePage","connect","Grid","Container","Tabs","Tab","dossierService","DocumentsComponent","MyActivityIndicator","mapStateToProps","mapDispatchToProps","dispatch","newName","value","MonDossier","Component","constructor","props","context","handleChange","event","setState","activeIndex","handleChangeIndex","state","dossier","loadDossier","DOSSIER_LIBELLE","componentDidMount","match","params","id","getDossierById","then","res","render","flex","display","width","height","justifyContent","overflow","flexDirection","flexWrap","TYPE_DOSSIER_IDENT","propTypes","func","isRequired","shape","number"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SwipeableViews from 'react-swipeable-views';\nimport InfosComponent from './infos.container';\nimport VisitesComponent from './visites.container';\nimport { PropTypes } from 'prop-types';\nimport {\n  changeNameOfPage,\n  changeBackUrl,\n  changeActivePage\n} from '../navbar/actions';\nimport { connect } from 'react-redux';\nimport { Grid, Container } from 'semantic-ui-react';\nimport { Tabs, Tab } from '@material-ui/core';\nimport './swipeable.css';\nimport dossierService from '../../services/dossier.service';\nimport DocumentsComponent from './documents.container';\nimport MyActivityIndicator from '../../components/myActivityIndicator.component';\n\nfunction mapStateToProps() {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    changeNameOfPage: newName => dispatch(changeNameOfPage(newName)),\n    changeBackUrl: () => dispatch(changeBackUrl('/mes-dossiers')),\n    changeActivePage: value => dispatch(changeActivePage('mesDossiers', value))\n  };\n}\n\nclass MonDossier extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      activeIndex: 0,\n      dossier: null\n    };\n  }\n\n  handleChange = (event, value) => {\n    this.setState({\n      activeIndex: value\n    });\n  };\n  handleChangeIndex = value => {\n    this.setState({\n      activeIndex: value\n    });\n  };\n\n  loadDossier(dossier) {\n    this.setState({ dossier: dossier }, () => {\n      this.props.changeNameOfPage(this.state.dossier.DOSSIER_LIBELLE);\n    });\n  }\n\n  componentDidMount() {\n    this.props.changeNameOfPage('Dossier ' + this.props.match.params.id);\n    this.props.changeBackUrl();\n    this.props.changeActivePage('/dossier/' + this.props.match.params.id);\n    dossierService\n      .getDossierById(this.props.match.params.id)\n      .then(res => this.loadDossier(res));\n  }\n  render() {\n    return (\n      <div\n        style={{\n          flex: 1,\n          display: 'flex',\n          width: '100%',\n          height: '100%',\n          justifyContent: 'center'\n        }}\n      >\n        {this.state.dossier ? (\n          <Container\n            style={{\n              overflow: 'hidden',\n              height: '100%',\n              width: '100%'\n            }}\n          >\n            <Grid\n              centered\n              style={{\n                height: '100%',\n\n                flex: 1,\n                flexDirection: 'column',\n                flexWrap: 'nowrap',\n                overflow: 'hidden'\n              }}\n            >\n              <Grid.Row style={{ flex: 1 }}>\n                <Tabs\n                  value={this.state.activeIndex}\n                  fullWidth\n                  onChange={this.handleChange}\n                >\n                  <Tab label=\"Infos\" />\n                  {//pas de visites si le dossier n'est pas de type enquête!\n                  this.state.dossier.TYPE_DOSSIER_IDENT === 3 && (\n                    <Tab label=\"Visites\" />\n                  )}\n                  <Tab label=\"Documents\" />\n                </Tabs>\n              </Grid.Row>\n              <Container\n                style={{ flex: 10, overflow: 'hidden' }}\n                className=\"hidescrollbar responsivecontainer\"\n              >\n                {this.state.dossier.TYPE_DOSSIER_IDENT === 3 ? (\n                  <SwipeableViews\n                    style={{ height: '100%' }}\n                    slideStyle={{ height: '100%', overflow: 'auto' }}\n                    slideClassName=\"hidescrollbar\"\n                    index={this.state.activeIndex}\n                    onChangeIndex={this.handleChangeIndex}\n                  >\n                    <InfosComponent dossier={this.state.dossier} />\n\n                    <VisitesComponent {...this.props} />\n\n                    <DocumentsComponent {...this.props} />\n                  </SwipeableViews>\n                ) : (\n                  <SwipeableViews\n                    style={{ height: '100%' }}\n                    slideStyle={{ height: '100%', overflow: 'auto' }}\n                    slideClassName=\"hidescrollbar\"\n                    index={this.state.activeIndex}\n                    onChangeIndex={this.handleChangeIndex}\n                  >\n                    <InfosComponent dossier={this.state.dossier} />\n                    <DocumentsComponent {...this.props} />\n                  </SwipeableViews>\n                )}\n              </Container>\n            </Grid>\n          </Container>\n        ) : (\n          <MyActivityIndicator />\n        )}\n      </div>\n    );\n  }\n}\n\nMonDossier.propTypes = {\n  changeNameOfPage: PropTypes.func.isRequired,\n  changeBackUrl: PropTypes.func.isRequired,\n  changeActivePage: PropTypes.func.isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.number\n    })\n  })\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MonDossier);\n"]},"metadata":{},"sourceType":"module"}